<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Smith Memory Book ‚Äì Flipbook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script src="vendor/stpageflip/page-flip.browser.js" onload="console.log('‚úÖ PageFlip loaded (local vendor)')"
    onerror="console.error('‚ùå PageFlip failed to load (local vendor)')"></script>

  <link rel="stylesheet" href="smith-memory-book.css?v=20251220-6" />
  <script defer src="smith-memory-book.js?v=20251220-6"></script>

</head>

<body>
  <div id="flipbook-container">
    <div id="flipbook-stage">
      <div id="startHint" aria-hidden="true"></div>
      <div id="startScreen">
        <button id="startBtn" type="button" aria-label="Open Book"></button>
      </div>
      <div id="flipbook-wrap">
        <div id="flipbook"></div>
        <div id="cover-inside-overlay"></div>
      </div>
    </div>

    <!--- Disabling Tile View for MVP Shipment deadline
    <div class="tiles" id="tiles">
      <div class="tiles-top">
        <strong>All pages</strong>
        <button id="tilesClose" class="tiles-close" type="button">Close</button>
      </div>
      <div class="tiles-grid" id="tilesGrid"></div>
    </div> --->  

    <div class="flipbar" id="flipbar">
      <button id="btnFirst" class="ibtn" title="First" type="button">
        <img data-ikey="start" alt="First" />
      </button>

      <button id="btnPrev" class="ibtn" title="Previous" type="button">
        <img data-ikey="prev" alt="Previous" />
      </button>

      <div class="pageIndicator" aria-label="Page Indicator">
        <input id="pageJump" class="pageJump" inputmode="numeric" aria-label="Page Number" />
      </div>

      <button id="btnNext" class="ibtn" title="Next" type="button">
        <img data-ikey="next" alt="Next" />
      </button>

      <button id="btnLast" class="ibtn" title="Last" type="button">
        <img data-ikey="end" alt="Last" />
      </button>

      <div class="sep"></div>

      <button id="zoomOut" class="ibtn" title="Zoom Out" type="button">
        <img data-ikey="zoomOut" alt="Zoom Out" />
      </button>

      <button id="zoomReset" class="ibtn" title="Reset" type="button">
        <img data-ikey="reset" alt="Reset">
      </button>

      <button id="zoomIn" class="ibtn" title="Zoom In" type="button">
        <img data-ikey="zoomIn" alt="Zoom In" />
      </button>

      <div class="sep"></div>

       <!-- Disabling Tile Icon for MVP Shipment deadline -->
      <!-- 
      <button id="btnTiles" class="ibtn" title="Tiles" type="button">
        <img data-ikey="tiles" alt="Tiles" />
      </button>-->

      <button id="btnSound" class="ibtn" title="Sound" type="button">
        <img data-ikey="sound" alt="Sound" />
      </button>

      <button id="btnMore" class="ibtn" title="More" type="button">
        <img data-ikey="more" alt="More" />
      </button>

      <div id="moreMenu" class="moremenu">
        <button id="btnShare" type="button"><img data-ikey="share" alt="" />Share</button>

        <!-- Stage button row -->
        <button id="btnStage" type="button" aria-expanded="false">
          <img id="iconStage" data-stage-icon alt="" />
          <span>Stage</span>
        </button>

        <!-- Stage submenu (lives directly beneath button; expands downward) -->
        <div id="stageSubmenu" class="stage-submenu" hidden></div>

        <button id="btnDownload" type="button"><img data-ikey="download" alt="" />Download</button>
        <button id="btnFull" type="button"><img data-ikey="fullscreen" alt="" />Full Screen</button>
        <!-- MVP Note: Disabled search UI will require JSON mapping and ain't nobody got time fodat ü•§ -->
        <!-- <button id="btnSearch" type="button"><img data-ikey="search" alt="" />Search</button> -->
      </div>
    </div>
  </div>
  <!-- PDF Download Modal -->
  <div id="pdfModal" class="pdf-modal" aria-hidden="true" inert>
    <div class="pdf-modal__backdrop" data-pdf-close></div>

    <div class="pdf-modal__panel" role="dialog" aria-modal="true" aria-labelledby="pdfModalTitle">
      <div class="pdf-modal__header">
        <div>
          <div id="pdfModalTitle" class="pdf-modal__title">Download a PDF copy</div>
          <div class="pdf-modal__subtitle">Pick the size that fits.</div>
        </div>
        <button class="pdf-modal__x" type="button" aria-label="Close" data-pdf-close>‚úï</button>
      </div>

      <div class="pdf-modal__body">
        <button id="pdfMamaBtn" class="pdf-option" type="button">
          <div class="pdf-option__top">
            <div class="pdf-option__name">üêª Mama Bear ‚Äî Screen-Optimized <span class="pdf-pill">Recommended</span>
            </div>
            <div class="pdf-option__size" id="pdfMamaSize">~140 MB</div>
          </div>
          <div class="pdf-option__desc">Best for reading, sharing, and printing selected pages.</div>
        </button>

        <button id="pdfPapaBtn" class="pdf-option pdf-option--big" type="button">
          <div class="pdf-option__top">
            <div class="pdf-option__name">üêª‚Äç‚ùÑÔ∏è Papa Bear ‚Äî Full-Resolution <span
                class="pdf-pill pdf-pill--big">Archival</span></div>
            <div class="pdf-option__size" id="pdfPapaSize">~900 MB</div>
          </div>
          <div class="pdf-option__desc">Maximum image quality. Very large download.</div>
        </button>

        <div class="pdf-modal__hint">
          Tip: downloads are happiest on Wi-Fi / desktop.
        </div>
      </div>
    </div>
  </div>
</body>

</html>